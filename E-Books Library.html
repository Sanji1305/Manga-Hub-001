<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MangaHub | E-Books Library</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/styles/style.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />
  </head>
  <body>
    <!-- Navbar -->
    <div id="navbar-container"></div>

    <!-- Top Notification Bar -->
    <div class="bg-danger text-white text-center py-2 animated-news-bar">
      <marquee behavior="scroll" direction="left" scrollamount="6">
        New manga added! | Sale on e-books! | Vote for your favorite manga! |
        Join our weekly quiz!
      </marquee>
    </div>

    <!-- Hero/Banner -->
    <section class="hero-section hero-bg-ebooks">
      <div class="hero-overlay"></div>
      <div class="container text-center text-white py-5">
        <h1 class="hero-title mb-2">Manga E-Books Library</h1>
        <p class="hero-subtext">
          Explore, read, and enjoy your favorite manga & manhwa titles!
        </p>
      </div>
    </section>

    <!-- Genre Filter & Search Bar -->
    <section class="container my-4">
      <div class="row align-items-center g-2">
        <!-- Genre Filter Bar (60%) -->
        <div class="col-md-7 col-12 mb-2 mb-md-0">
          <div class="d-flex flex-wrap gap-2">
            <button class="btn btn-outline-primary btn-sm">Action</button>
            <button class="btn btn-outline-primary btn-sm">Romance</button>
            <button class="btn btn-outline-primary btn-sm">Fantasy</button>
            <button class="btn btn-outline-primary btn-sm">Comedy</button>
            <button class="btn btn-outline-primary btn-sm">Horror</button>
            <button class="btn btn-outline-primary btn-sm">Drama</button>
            <button class="btn btn-outline-primary btn-sm">Adventure</button>
          </div>
        </div>
        <!-- Search Bar (40%) -->
        <div class="col-md-5 col-12">
          <form class="d-flex" role="search">
            <input
              class="form-control me-2"
              type="search"
              placeholder="Search manga..."
              aria-label="Search"
            />
            <button class="btn btn-primary" type="submit" title="Search">
              <i class="bi bi-search"></i>
            </button>
          </form>
        </div>
      </div>
    </section>

    <!-- Main Content: Filter Bar (30%) + Books (70%) -->
    <section class="container mb-5">
      <div class="row">
        <!-- Filter Bar (30%) -->
        <aside class="col-md-4 col-lg-3 mb-4 mb-md-0">
          <div class="card p-3">
            <h5 class="mb-3">Filters</h5>
            <div class="mb-3">
              <label class="form-label" for="genreSelect">Genre</label>
              <select class="form-select" id="genreSelect" title="Select Genre">
                <option>All</option>
                <option>Action</option>
                <option>Romance</option>
                <option>Fantasy</option>
                <option>Comedy</option>
                <option>Horror</option>
                <option>Drama</option>
                <option>Adventure</option>
              </select>
            </div>
            <div class="mb-3">
              <label class="form-label">Author</label>
              <input
                type="text"
                class="form-control"
                placeholder="Author name"
              />
            </div>
            <div class="mb-3">
              <label class="form-label">Year</label>
              <input
                type="number"
                class="form-control"
                placeholder="e.g. 2023"
              />
            </div>
            <button class="btn btn-primary w-100">Apply Filters</button>
          </div>
        </aside>
        <!-- Books Grid (70%) -->
        <div class="col-md-8 col-lg-9">
          <div
            class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4"
          >
            <!-- Sample Book Card -->
            <!-- Fullmetal Alchemist -->
            <div class="col">
              <div class="card h-100">
                <img
                  src="/images/Fullmetal Alchemist.jpg"
                  class="card-img-top"
                  alt="Book Cover"
                />
                <div class="card-body">
                  <h6 class="card-title">Fullmetal Alchemist</h6>
                  <p class="card-text">
                    Alchemy, adventure, and brotherhood in a classic manga.
                  </p>
                </div>
                <div class="card-footer text-end">
                  <button
                    class="btn btn-sm btn-primary w-100 open-book-modal"
                    data-bs-toggle="modal"
                    data-bs-target="#bookDetailModal"
                    data-title="Fullmetal Alchemist"
                    data-img="/images/Fullmetal Alchemist.jpg"
                    data-author="Hiromu Arakawa"
                    data-genre="Action, Adventure, Fantasy"
                    data-year="2001"
                    data-rating="4.8/5"
                    data-status="Ongoing"
                    data-tags="#Alchemy,#Brotherhood,#Classic"
                    data-desc="Edward and Alphonse Elric use alchemy in their quest to find the Philosopher's Stone. The story explores themes of sacrifice, brotherhood, and the consequences of ambition."
                  >
                    Read
                  </button>
                </div>
              </div>
            </div>
            <!-- The Apothecary Diaries -->
            <div class="col">
              <div class="card h-100">
                <img
                  src="/images/The Apothecary Diaries.jpg"
                  class="card-img-top"
                  alt="Book Cover"
                />
                <div class="card-body">
                  <h6 class="card-title">The Apothecary Diaries</h6>
                  <p class="card-text">
                    A clever apothecary solves mysteries in the imperial court.
                  </p>
                </div>
                <div class="card-footer text-end">
                  <button
                    class="btn btn-sm btn-primary w-100 open-book-modal"
                    data-bs-toggle="modal"
                    data-bs-target="#bookDetailModal"
                    data-title="The Apothecary Diaries"
                    data-img="/images/The Apothecary Diaries.jpg"
                    data-author="Natsu Hyuuga"
                    data-genre="Mystery, Historical, Drama"
                    data-year="2017"
                    data-rating="4.6/5"
                    data-status="Ongoing"
                    data-tags="#Mystery,#Court,#Medicine"
                    data-desc="Maomao, a clever apothecary, unravels secrets and solves mysteries in the imperial court."
                  >
                    Read
                  </button>
                </div>
              </div>
            </div>
            <!-- Smyrna and Capri -->
            <div class="col">
              <div class="card h-100">
                <img
                  src="/images/Smyrna and Capri.webp"
                  class="card-img-top"
                  alt="Book Cover"
                />
                <div class="card-body">
                  <h6 class="card-title">Smyrna and Capri</h6>
                  <p class="card-text">
                    A tale of two cities and the destinies intertwined.
                  </p>
                </div>
                <div class="card-footer text-end">
                  <button
                    class="btn btn-sm btn-primary w-100 open-book-modal"
                    data-bs-toggle="modal"
                    data-bs-target="#bookDetailModal"
                    data-title="Smyrna and Capri"
                    data-img="/images/Smyrna and Capri.webp"
                    data-author="Brothers Without A Tomorrow"
                    data-genre="Drama, Romance"
                    data-year="2022"
                    data-rating="4.2/5"
                    data-status="Completed"
                    data-tags="#Drama,#Romance,#Cities"
                    data-desc="A dramatic romance set between two iconic cities, Smyrna and Capri."
                  >
                    Read
                  </button>
                </div>
              </div>
            </div>
            <!-- One Piece -->
            <div class="col">
              <div class="card h-100">
                <img
                  src="/images/hero1.jpg"
                  class="card-img-top"
                  alt="Book Cover"
                />
                <div class="card-body">
                  <h6 class="card-title">One Piece</h6>
                  <p class="card-text">
                    The story of Monkey D. Luffy and his pirate crew.
                  </p>
                </div>
                <div class="card-footer text-end">
                  <button
                    class="btn btn-sm btn-primary w-100 open-book-modal"
                    data-bs-toggle="modal"
                    data-bs-target="#bookDetailModal"
                    data-title="One Piece"
                    data-img="/images/hero1.jpg"
                    data-author="Eiichiro Oda"
                    data-genre="Action, Adventure, Fantasy"
                    data-year="1997"
                    data-rating="5/5"
                    data-status="Ongoing"
                    data-tags="#Pirates,#Adventure,#Fantasy"
                    data-desc="Monkey D. Luffy and his pirate crew set out on a journey to find the One Piece."
                  >
                    Read
                  </button>
                </div>
              </div>
            </div>
            <!-- Demon Slayer -->
            <div class="col">
              <div class="card h-100">
                <img
                  src="/images/hero2.jpg"
                  class="card-img-top"
                  alt="Book Cover"
                />
                <div class="card-body">
                  <h6 class="card-title">Demon Slayer</h6>
                  <p class="card-text">
                    A young boy becomes a demon slayer to avenge his family.
                  </p>
                </div>
                <div class="card-footer text-end">
                  <button
                    class="btn btn-sm btn-primary w-100 open-book-modal"
                    data-bs-toggle="modal"
                    data-bs-target="#bookDetailModal"
                    data-title="Demon Slayer"
                    data-img="/images/hero2.jpg"
                    data-author="Koyoharu Gotouge"
                    data-genre="Action, Adventure, Fantasy"
                    data-year="2016"
                    data-rating="4.8/5"
                    data-status="Completed"
                    data-tags="#Demons,#Slayers,#Vengeance"
                    data-desc="Tanjiro Kamado and his sister Nezuko become demon slayers to avenge their family."
                  >
                    Read
                  </button>
                </div>
              </div>
            </div>
            <!-- Solo Leveling -->
            <div class="col">
              <div class="card h-100">
                <img
                  src="/images/hero3.jpg"
                  class="card-img-top"
                  alt="Book Cover"
                />
                <div class="card-body">
                  <h6 class="card-title">Solo Leveling</h6>
                  <p class="card-text">
                    A young man becomes a hunter to save his world.
                  </p>
                </div>
                <div class="card-footer text-end">
                  <button
                    class="btn btn-sm btn-primary w-100 open-book-modal"
                    data-bs-toggle="modal"
                    data-bs-target="#bookDetailModal"
                    data-title="Solo Leveling"
                    data-img="/images/hero3.jpg"
                    data-author="Chugong"
                    data-genre="Action, Adventure, Fantasy"
                    data-year="2018"
                    data-rating="4.8/5"
                    data-status="Completed"
                    data-tags="#Hunters,#Adventure,#Fantasy"
                    data-desc="Sung Jinwoo, a young man, becomes a hunter to save his world."
                  >
                    Read
                  </button>
                </div>
              </div>
            </div>
            <!-- Vagabond -->
            <div class="col">
              <div class="card h-100">
                <img
                  src="/images/vagabond.jpg"
                  class="card-img-top"
                  alt="Book Cover"
                />
                <div class="card-body">
                  <h6 class="card-title">Vagabond</h6>
                  <p class="card-text">
                    A historical manga about the life of Musashi Miyamoto.
                  </p>
                </div>
                <div class="card-footer text-end">
                  <button
                    class="btn btn-sm btn-primary w-100 open-book-modal"
                    data-bs-toggle="modal"
                    data-bs-target="#bookDetailModal"
                    data-title="Vagabond"
                    data-img="/images/vagabond.jpg"
                    data-author="Takehiko Inoue"
                    data-genre="Action, Adventure, Drama"
                    data-year="1999"
                    data-rating="4.8/5"
                    data-status="Completed"
                    data-tags="#History,#Adventure,#Drama"
                    data-desc="Musashi Miyamoto's life and his journey to become a great swordsman."
                  >
                    Read
                  </button>
                </div>
              </div>
            </div>
            <!-- Vinland Saga -->
              <div class="col">
              <div class="card h-100">
                <img
                  src="/images/vinland.jpg"
                  class="card-img-top"
                  alt="Book Cover"
                />
                <div class="card-body">
                  <h6 class="card-title">Vinland Saga</h6>
                  <p class="card-text">
                    A historical manga about the life of Thorfinn.
                  </p>
                </div>
                <div class="card-footer text-end">
                  <button
                    class="btn btn-sm btn-primary w-100 open-book-modal"
                    data-bs-toggle="modal"
                    data-bs-target="#bookDetailModal"
                    data-title="Vinland Saga"
                    data-img="/images/vinland.jpg"
                    data-author="Makoto Yukimura"
                    data-genre="Action, Adventure, Drama"
                    data-year="2005"
                    data-rating="4.8/5"
                    data-status="Completed"
                    data-tags="#History,#Adventure,#Drama"
                    data-desc="Thorfinn and his journey to become a great swordsman and find the land of Vinland."
                  >
                    Read
                  </button>
                </div>
              </div>
            </div>
            <!-- Berserk -->
            <div class="col">
              <div class="card h-100">
                <img
                  src="/images/Berserk.jpg"
                  class="card-img-top"
                  alt="Book Cover"
                />
                <div class="card-body">
                  <h6 class="card-title">Berserk</h6>
                  <p class="card-text">
                    A historical manga about the life of Guts.
                  </p>
                </div>
                <div class="card-footer text-end">
                  <button
                    class="btn btn-sm btn-primary w-100 open-book-modal"
                    data-bs-toggle="modal"
                    data-bs-target="#bookDetailModal"
                    data-title="Berserk"
                    data-img="/images/Berserk.jpg"
                    data-author="Kentaro Miura"
                    data-genre="Action, Adventure, Fantasy"
                    data-year="1989"
                    data-rating="4.8/5"
                    data-status="Completed"
                    data-tags="#History,#Adventure,#Drama"
                    data-desc="Guts and his journey to become a great swordsman and find the land of Berserk."
                  >
                    Read
                  </button>
                </div>
              </div>
            </div>
            <!-- Naruto -->
            <div class="col">
              <div class="card h-100">
                <img
                  src="/images/Naruto.avif"
                  class="card-img-top"
                  alt="Book Cover"
                />
                <div class="card-body">
                  <h6 class="card-title">Naruto</h6>
                  <p class="card-text">
                    A ninja who becomes the Hokage of the Hidden Leaf Village.
                  </p>
                </div>
                <div class="card-footer text-end">
                  <button
                    class="btn btn-sm btn-primary w-100 open-book-modal"
                    data-bs-toggle="modal"
                    data-bs-target="#bookDetailModal"
                    data-title="Naruto"
                    data-img="/images/Naruto.avif"
                    data-author="Masashi Kishimoto"
                    data-genre="Action, Adventure, Fantasy"
                    data-year="2002"
                    data-rating="4.8/5"
                    data-status="Completed"
                    data-tags="#Ninjas,#Adventure,#Fantasy"
                    data-desc="Naruto and his journey to become the Hokage of the Hidden Leaf Village."
                  >
                    Read
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Personalized Recommendations -->
    <section class="container my-5">
      <h4 class="mb-3">Recommended for You</h4>
      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4 g-3">
        <div class="col">
          <div class="card h-100 bg-dark text-white">
            <img
              src="/images/aot.avif"
              class="card-img-top"
              alt="Rec 1"
              style="height: 160px; object-fit: cover"
            />
            <div class="card-body">
              <h6 class="card-title">Attack on Titan</h6>
              <p class="card-text">
                If you liked Attack on Titan, try this!
              </p>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card h-100 bg-dark text-white">
            <img
              src="/images/hero2.jpg"
              class="card-img-top"
              alt="Rec 2"
              style="height: 160px; object-fit: cover"
            />
            <div class="card-body">
              <h6 class="card-title">Demon Slayer</h6>
              <p class="card-text">
                If you liked Demon Slayer, try this!
              </p>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card h-100 bg-dark text-white">
            <img
              src="/images/hero1.jpg"
              class="card-img-top"
              alt="Rec 3"
              style="height: 160px; object-fit: cover"
            />
            <div class="card-body">
              <h6 class="card-title">One Piece</h6>
              <p class="card-text">If you liked One Piece, try this!</p>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card h-100 bg-dark text-white">
            <img
              src="/images/vinland.jpg"
              class="card-img-top"
              alt="Rec 4"
              style="height: 160px; object-fit: cover"
            />
            <div class="card-body">
              <h6 class="card-title">Vinland Saga</h6>
              <p class="card-text">If you liked Vinland Saga, try this!</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Community Engagement Section: Leaderboard (left), Poll & Quiz (right) -->
    <section class="container my-5">
      <div class="row g-4">
        <!-- Left: Leaderboard -->
        <div class="col-lg-6">
          <h4 class="mb-3">Top Reviewers</h4>
          <ol class="list-group list-group-numbered">
            <li
              class="list-group-item d-flex justify-content-between align-items-center"
            >
              <span><strong>@mangaKing</strong></span>
              <span class="badge bg-primary rounded-pill">120 reviews</span>
            </li>
            <li
              class="list-group-item d-flex justify-content-between align-items-center"
            >
              <span><strong>@otakuQueen</strong></span>
              <span class="badge bg-primary rounded-pill">98 reviews</span>
            </li>
            <li
              class="list-group-item d-flex justify-content-between align-items-center"
            >
              <span><strong>@animeAddict</strong></span>
              <span class="badge bg-primary rounded-pill">85 reviews</span>
            </li>
            <li
              class="list-group-item d-flex justify-content-between align-items-center"
            >
              <span><strong>@mangaSensei</strong></span>
              <span class="badge bg-primary rounded-pill">80 reviews</span>
            </li>
            <li
              class="list-group-item d-flex justify-content-between align-items-center"
            >
              <span><strong>@pageTurner</strong></span>
              <span class="badge bg-primary rounded-pill">75 reviews</span>
            </li>
            <li
              class="list-group-item d-flex justify-content-between align-items-center"
            >
              <span><strong>@otakuStar</strong></span>
              <span class="badge bg-primary rounded-pill">70 reviews</span>
            </li>
            <li
              class="list-group-item d-flex justify-content-between align-items-center"
            >
              <span><strong>@mangaGuru</strong></span>
              <span class="badge bg-primary rounded-pill">65 reviews</span>
            </li>
            <li
              class="list-group-item d-flex justify-content-between align-items-center"
            >
              <span><strong>@comicFan</strong></span>
              <span class="badge bg-primary rounded-pill">60 reviews</span>
            </li>
            <li
              class="list-group-item d-flex justify-content-between align-items-center"
            >
              <span><strong>@mangaReader</strong></span>
              <span class="badge bg-primary rounded-pill">55 reviews</span>
            </li>
            <li
              class="list-group-item d-flex justify-content-between align-items-center"
            >
              <span><strong>@animePro</strong></span>
              <span class="badge bg-primary rounded-pill">50 reviews</span>
            </li>
          </ol>
        </div>
        <!-- Right: Poll & Quiz stacked -->
        <div class="col-lg-6 d-flex flex-column gap-4">
          <div>
            <h4 class="mb-3">Community Poll</h4>
            <div class="card p-3 bg-dark text-white">
              <p class="mb-2">Which genre should we add more manga of?</p>
              <form id="pollForm">
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="pollGenre"
                    id="pollAction"
                    value="Action"
                  />
                  <label class="form-check-label" for="pollAction"
                    >Action</label
                  >
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="pollGenre"
                    id="pollRomance"
                    value="Romance"
                  />
                  <label class="form-check-label" for="pollRomance"
                    >Romance</label
                  >
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="pollGenre"
                    id="pollFantasy"
                    value="Fantasy"
                  />
                  <label class="form-check-label" for="pollFantasy"
                    >Fantasy</label
                  >
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="pollGenre"
                    id="pollComedy"
                    value="Comedy"
                  />
                  <label class="form-check-label" for="pollComedy"
                    >Comedy</label
                  >
                </div>
                <button type="submit" class="btn btn-primary mt-2">Vote</button>
              </form>
              <div id="pollResult" class="mt-2" style="display: none">
                <strong>Thanks for voting!</strong>
              </div>
            </div>
          </div>
          <div>
            <h4 class="mb-3">Manga Quiz of the Week</h4>
            <div class="card p-3 bg-dark text-white">
              <p>Who is the author of "Fullmetal Alchemist"?</p>
              <form id="quizForm">
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="quizAuthor"
                    id="quiz1"
                    value="Hiromu Arakawa"
                  />
                  <label class="form-check-label" for="quiz1"
                    >Hiromu Arakawa</label
                  >
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="quizAuthor"
                    id="quiz2"
                    value="Masashi Kishimoto"
                  />
                  <label class="form-check-label" for="quiz2"
                    >Masashi Kishimoto</label
                  >
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="quizAuthor"
                    id="quiz3"
                    value="Yoshihiro Togashi"
                  />
                  <label class="form-check-label" for="quiz3"
                    >Yoshihiro Togashi</label
                  >
                </div>
                <button type="submit" class="btn btn-success mt-2">
                  Submit
                </button>
              </form>
              <div id="quizResult" class="mt-2" style="display: none">
                <strong>Correct! Hiromu Arakawa is the author.</strong>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- User Ratings & Quick Review (Star Rating on Cards + Modal) -->
    <section class="container my-5">
      <h4 class="mb-3">Rate Your Favorite Manga</h4>
      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-5 g-3">
        <div class="col">
          <div class="card h-100 bg-dark text-white position-relative">
            <img
              src="/images/hero1.jpg"
              class="card-img-top"
              alt="Rate 1"
              style="height: 160px; object-fit: cover"
            />
            <div class="card-body">
              <h6 class="card-title">Fullmetal Alchemist</h6>
              <div class="star-rating mb-2" data-title="Fullmetal Alchemist">
                <span class="star" data-value="1">&#9733;</span>
                <span class="star" data-value="2">&#9733;</span>
                <span class="star" data-value="3">&#9733;</span>
                <span class="star" data-value="4">&#9733;</span>
                <span class="star" data-value="5">&#9733;</span>
              </div>
              <button
                class="btn btn-outline-light btn-sm open-review-modal"
                data-bs-toggle="modal"
                data-bs-target="#reviewModal"
                data-title="Fullmetal Alchemist"
              >
                Quick Review
              </button>
            </div>
            <button
              class="btn btn-light btn-sm position-absolute top-0 end-0 m-2 favorite-btn"
              title="Add to Favorites"
            >
              &#9829;
            </button>
          </div>
        </div>
        <!-- Repeat for 4 more cards (demo) -->
        <div class="col">
          <div class="card h-100 bg-dark text-white position-relative">
            <img
              src="/images/hero2.jpg"
              class="card-img-top"
              alt="Rate 2"
              style="height: 160px; object-fit: cover"
            />
            <div class="card-body">
              <h6 class="card-title">The Apothecary Diaries</h6>
              <div class="star-rating mb-2" data-title="The Apothecary Diaries">
                <span class="star" data-value="1">&#9733;</span>
                <span class="star" data-value="2">&#9733;</span>
                <span class="star" data-value="3">&#9733;</span>
                <span class="star" data-value="4">&#9733;</span>
                <span class="star" data-value="5">&#9733;</span>
              </div>
              <button
                class="btn btn-outline-light btn-sm open-review-modal"
                data-bs-toggle="modal"
                data-bs-target="#reviewModal"
                data-title="The Apothecary Diaries"
              >
                Quick Review
              </button>
            </div>
            <button
              class="btn btn-light btn-sm position-absolute top-0 end-0 m-2 favorite-btn"
              title="Add to Favorites"
            >
              &#9829;
            </button>
          </div>
        </div>
        <div class="col">
          <div class="card h-100 bg-dark text-white position-relative">
            <img
              src="/images/hero3.jpg"
              class="card-img-top"
              alt="Rate 3"
              style="height: 160px; object-fit: cover"
            />
            <div class="card-body">
              <h6 class="card-title">Smyrna and Capri</h6>
              <div class="star-rating mb-2" data-title="Smyrna and Capri">
                <span class="star" data-value="1">&#9733;</span>
                <span class="star" data-value="2">&#9733;</span>
                <span class="star" data-value="3">&#9733;</span>
                <span class="star" data-value="4">&#9733;</span>
                <span class="star" data-value="5">&#9733;</span>
              </div>
              <button
                class="btn btn-outline-light btn-sm open-review-modal"
                data-bs-toggle="modal"
                data-bs-target="#reviewModal"
                data-title="Smyrna and Capri"
              >
                Quick Review
              </button>
            </div>
            <button
              class="btn btn-light btn-sm position-absolute top-0 end-0 m-2 favorite-btn"
              title="Add to Favorites"
            >
              &#9829;
            </button>
          </div>
        </div>
        <div class="col">
          <div class="card h-100 bg-dark text-white position-relative">
            <img
              src="/images/hero1.jpg"
              class="card-img-top"
              alt="Rate 4"
              style="height: 160px; object-fit: cover"
            />
            <div class="card-body">
              <h6 class="card-title">Manga Title 4</h6>
              <div class="star-rating mb-2" data-title="Manga Title 4">
                <span class="star" data-value="1">&#9733;</span>
                <span class="star" data-value="2">&#9733;</span>
                <span class="star" data-value="3">&#9733;</span>
                <span class="star" data-value="4">&#9733;</span>
                <span class="star" data-value="5">&#9733;</span>
              </div>
              <button
                class="btn btn-outline-light btn-sm open-review-modal"
                data-bs-toggle="modal"
                data-bs-target="#reviewModal"
                data-title="Manga Title 4"
              >
                Quick Review
              </button>
            </div>
            <button
              class="btn btn-light btn-sm position-absolute top-0 end-0 m-2 favorite-btn"
              title="Add to Favorites"
            >
              &#9829;
            </button>
          </div>
        </div>
        <div class="col">
          <div class="card h-100 bg-dark text-white position-relative">
            <img
              src="/images/hero2.jpg"
              class="card-img-top"
              alt="Rate 5"
              style="height: 160px; object-fit: cover"
            />
            <div class="card-body">
              <h6 class="card-title">Manga Title 5</h6>
              <div class="star-rating mb-2" data-title="Manga Title 5">
                <span class="star" data-value="1">&#9733;</span>
                <span class="star" data-value="2">&#9733;</span>
                <span class="star" data-value="3">&#9733;</span>
                <span class="star" data-value="4">&#9733;</span>
                <span class="star" data-value="5">&#9733;</span>
              </div>
              <button
                class="btn btn-outline-light btn-sm open-review-modal"
                data-bs-toggle="modal"
                data-bs-target="#reviewModal"
                data-title="Manga Title 5"
              >
                Quick Review
              </button>
            </div>
            <button
              class="btn btn-light btn-sm position-absolute top-0 end-0 m-2 favorite-btn"
              title="Add to Favorites"
            >
              &#9829;
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Quick Review Modal -->
    <div
      class="modal fade"
      id="reviewModal"
      tabindex="-1"
      aria-labelledby="reviewModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content bg-dark text-white">
          <div class="modal-header">
            <h5 class="modal-title" id="reviewModalLabel">Quick Review</h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <h6 id="reviewBookTitle"></h6>
            <textarea
              class="form-control mb-3"
              rows="3"
              placeholder="Write your review..."
            ></textarea>
            <button class="btn btn-success">Submit Review</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Mini-Forum/Discussion Section (Book Detail Modal) -->
    <script>
      // Add this inside the Book Detail Modal, after user reviews
      const bookDetailModal = document.getElementById("bookDetailModal");
      if (bookDetailModal) {
        const forumSection = document.createElement("div");
        forumSection.innerHTML = `
        <hr class="bg-light opacity-50" />
        <h5>Discussion</h5>
        <div class="mb-2 p-2 bg-dark rounded border border-secondary">
          <strong>@reader1:</strong> This manga changed my life! 5/5 ⭐
        </div>
        <div class="mb-2 p-2 bg-dark rounded border border-secondary">
          <strong>@mangaLover:</strong> Waiting for the next volume...
        </div>
        <form id="forumForm">
          <input class="form-control mb-2" type="text" placeholder="Add a comment..." />
          <button class="btn btn-primary btn-sm" type="submit">Post</button>
        </form>
      `;
        setTimeout(() => {
          const modalBody = bookDetailModal.querySelector(
            ".col-md-6.p-4.d-flex.flex-column.justify-content-center.h-100"
          );
          if (modalBody && !modalBody.querySelector("#forumForm")) {
            modalBody.appendChild(forumSection);
            const forumForm = document.getElementById("forumForm");
            if (forumForm) {
              forumForm.addEventListener("submit", function (e) {
                e.preventDefault();
                alert("Comment posted! (Demo)");
              });
            }
          }
        }, 1000);
      }
    </script>
    <!-- Newsletter Signup Section -->
    <section class="container my-5">
      <div class="row justify-content-center">
        <div class="col-lg-8">
          <div class="card bg-dark text-white p-4 shadow-lg border-0">
            <div class="text-center mb-3">
              <h3 class="mb-2">Subscribe to our Newsletter</h3>
              <p class="mb-0">
                Get the latest manga updates, exclusive offers, and more
                delivered straight to your inbox!
              </p>
            </div>
            <form
              class="d-flex flex-column flex-sm-row gap-2 justify-content-center align-items-center"
            >
              <input
                type="email"
                class="form-control form-control-lg"
                placeholder="Enter your email"
                required
                style="max-width: 350px"
              />
              <button type="submit" class="btn btn-danger btn-lg px-4">
                Subscribe
              </button>
            </form>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <div id="footer-container"></div>

    <!-- Bootstrap JS Bundle (with Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/script.js"></script>

    <!-- Book Detail Modal -->
    <div
      class="modal fade"
      id="bookDetailModal"
      tabindex="-1"
      aria-labelledby="bookDetailModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content bg-dark text-white position-relative">
          <button
            type="button"
            class="btn-close btn-close-white position-absolute top-0 end-0 m-3"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
          <div class="modal-body p-0">
            <div class="row g-0">
              <!-- Left: Book Cover -->
              <div class="col-md-6 p-0 h-100">
                <img
                  id="modalBookImg"
                  src=""
                  alt="Book Cover"
                  class="modal-book-cover-full"
                />
              </div>
              <!-- Right: Description & Actions -->
              <div
                class="col-md-6 p-4 d-flex flex-column justify-content-center h-100"
              >
                <h2 id="modalBookTitle"></h2>
                <ul class="mb-3" style="list-style: disc inside">
                  <li>
                    <strong>Author:</strong> <span id="modalBookAuthor"></span>
                  </li>
                  <li>
                    <strong>Genre:</strong> <span id="modalBookGenre"></span>
                  </li>
                  <li>
                    <strong>Year:</strong> <span id="modalBookYear"></span>
                  </li>
                  <li>
                    <strong>Rating:</strong> <span id="modalBookRating"></span>
                  </li>
                  <li>
                    <strong>Status:</strong> <span id="modalBookStatus"></span>
                  </li>
                </ul>
                <div class="mb-3" id="modalBookTags"></div>
                <hr class="bg-light opacity-50" />
                <p class="mb-4" id="modalBookDesc"></p>
                <div class="d-flex gap-3 mb-4">
                  <button
                    class="btn btn-success add-to-cart-btn-modal"
                    data-title=""
                    data-price="299"
                    data-image=""
                    data-type="ebook"
                  >
                    Add to Cart
                  </button>
                  <button class="btn btn-outline-light">Read Sample</button>
                </div>
                <div class="mt-auto">
                  <h5>User Reviews</h5>
                  <div class="mb-2 p-2 bg-dark rounded border border-secondary">
                    <strong>@mangaFan123:</strong> Amazing story and art! 5/5 ⭐
                  </div>
                  <div class="mb-2 p-2 bg-dark rounded border border-secondary">
                    <strong>@alchemist:</strong> One of the best manga ever.
                    Highly recommended!
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      document.querySelectorAll(".open-book-modal").forEach((btn) => {
        btn.addEventListener("click", function () {
          document.getElementById("modalBookImg").src = this.dataset.img;
          document.getElementById("modalBookTitle").textContent =
            this.dataset.title;
          document.getElementById("modalBookAuthor").textContent =
            this.dataset.author;
          document.getElementById("modalBookGenre").textContent =
            this.dataset.genre;
          document.getElementById("modalBookYear").textContent =
            this.dataset.year;
          document.getElementById("modalBookRating").textContent =
            this.dataset.rating;
          document.getElementById("modalBookStatus").textContent =
            this.dataset.status;
          document.getElementById("modalBookDesc").textContent =
            this.dataset.desc;
          // Tags
          const tags = this.dataset.tags ? this.dataset.tags.split(",") : [];
          document.getElementById("modalBookTags").innerHTML = tags
            .map((tag) => `<span class='badge bg-primary me-1'>${tag}</span>`)
            .join(" ");
          // Set Add to Cart button data attributes
          const addCartBtn = document.querySelector(".add-to-cart-btn-modal");
          if (addCartBtn) {
            addCartBtn.dataset.title = this.dataset.title;
            addCartBtn.dataset.image = this.dataset.img;
            addCartBtn.dataset.price = this.dataset.price || "299";
            addCartBtn.dataset.type = "ebook";
          }
        });
      });

      // Poll form demo
      const pollForm = document.getElementById("pollForm");
      if (pollForm) {
        pollForm.addEventListener("submit", function (e) {
          e.preventDefault();
          document.getElementById("pollResult").style.display = "block";
        });
      }
      // Quiz form demo
      const quizForm = document.getElementById("quizForm");
      if (quizForm) {
        quizForm.addEventListener("submit", function (e) {
          e.preventDefault();
          const answer = quizForm.quizAuthor.value;
          if (answer === "Hiromu Arakawa") {
            document.getElementById("quizResult").innerHTML =
              "<strong>Correct! Hiromu Arakawa is the author.</strong>";
          } else {
            document.getElementById("quizResult").innerHTML =
              "<strong>Oops! Try again.</strong>";
          }
          document.getElementById("quizResult").style.display = "block";
        });
      }

      // Star rating interaction
      const starRatings = document.querySelectorAll(".star-rating");
      starRatings.forEach((rating) => {
        const stars = rating.querySelectorAll(".star");
        stars.forEach((star) => {
          star.addEventListener("mouseenter", function () {
            stars.forEach((s) => s.classList.remove("text-warning"));
            for (let i = 0; i < this.dataset.value; i++) {
              stars[i].classList.add("text-warning");
            }
          });
          star.addEventListener("mouseleave", function () {
            stars.forEach((s) => s.classList.remove("text-warning"));
          });
          star.addEventListener("click", function () {
            alert(
              "You rated " +
                rating.dataset.title +
                " " +
                this.dataset.value +
                " stars!"
            );
          });
        });
      });

      // Quick Review Modal
      const reviewBtns = document.querySelectorAll(".open-review-modal");
      reviewBtns.forEach((btn) => {
        btn.addEventListener("click", function () {
          document.getElementById("reviewBookTitle").textContent =
            this.dataset.title;
        });
      });

      // Favorite/Bookmark Button
      const favBtns = document.querySelectorAll(".favorite-btn");
      favBtns.forEach((btn) => {
        btn.addEventListener("click", function () {
          this.classList.toggle("text-danger");
          this.title = this.classList.contains("text-danger")
            ? "Remove from Favorites"
            : "Add to Favorites";
        });
      });

      // Add to Cart logic (same as Product Store)
      function updateCartCountLS() {
        const cart = JSON.parse(localStorage.getItem("cart") || "[]");
        const count = cart.reduce((sum, item) => sum + item.quantity, 0);
        localStorage.setItem("cartCount", count);
        if (typeof updateCartBadge === "function") updateCartBadge();
      }

      function addToCart(item) {
        let cart = JSON.parse(localStorage.getItem("cart") || "[]");
        const idx = cart.findIndex(
          (i) => i.title === item.title && i.type === item.type
        );
        if (idx > -1) {
          cart[idx].quantity += 1;
        } else {
          cart.push({ ...item, quantity: 1 });
        }
        localStorage.setItem("cart", JSON.stringify(cart));
        updateCartCountLS();
      }

      const addCartBtnModal = document.querySelector(".add-to-cart-btn-modal");
      if (addCartBtnModal) {
        addCartBtnModal.addEventListener("click", function (e) {
          e.preventDefault();
          const item = {
            title: this.dataset.title,
            price: parseFloat(this.dataset.price),
            image: this.dataset.image,
            type: this.dataset.type,
          };
          addToCart(item);
          alert("Added to cart!");
        });
      }

      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", updateCartCountLS);
      } else {
        updateCartCountLS();
      }
    </script>
  </body>
</html>
